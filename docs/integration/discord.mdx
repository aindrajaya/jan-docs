---
sidebar_position: 5
---

import discord_repo from './img/jan-ai-discord-repo.png';

# Jan Integration for Doscord bot

## Overview

This tutorial demonstrates the process of integrating with a Discord bot using Jan.

## Steps for Integration

### Step 1: Clone the repository

To make this integration successful, it is necessary to clone the discord bot's [repository](https://github.com/jakobdylanc/discord-llm-chatbot).

<div class="text--center"> 
    <img src={discord_repo} width={600} alt="jan-ai-discord-repo" />
</div>

### Step 2: Install the requirement libraries

After cloning the repository, run the following command:

```sh
pip install -r requirements.txt
```

### Step 3: Create a copy of `.env.example`, named `.env`, and set it up

| Setting |	Instructions |
| ------- | ------------ |
| DISCORD_BOT_TOKEN | Generate a new Discord application at [discord.com/developers/applications](https://discord.com/developers/applications), obtain a token from the Bot tab, and enable MESSAGE CONTENT INTENT. |
| LLM | Follow [LiteLLM instructions](https://github.com/BerriAI/litellm?tab=readme-ov-file#supported-providers-docs) for model name formatting when using supported providers like [OpenAI API](https://docs.litellm.ai/docs/providers/openai), [Mistral API](https://docs.litellm.ai/docs/providers/mistral), [ollama](https://docs.litellm.ai/docs/providers/ollama), etc. For [Jan](https://jan.ai/), set to `local/openai/(MODEL_NAME)`, where `(MODEL_NAME)` is your loaded model's name. |
| CUSTOM_SYSTEM_PROMPT | Make any changes you want to adjust the bot's behavior. |
| CUSTOM_DISCORD_STATUS | Set a custom message for the bot's Discord profile. (Max 128 characters) | 
| ALLOWED_CHANNEL_IDS | Enter Discord channel IDs where the bot can send messages, separated by commas. Leave blank to allow all channels. |
| ALLOWED_ROLE_IDS | Enter Discord role IDs allowed to use the bot, separated by commas. Leave blank to allow everyone. Including at least one role also disables DMs. |
| MAX_IMAGES | Max number of image attachments allowed per message when using a vision model. (Default: `5`) |
| MAX_MESSAGES | Max messages allowed in a reply chain. (Default: `20`) |
| LOCAL_SERVER_URL | URL of your local API server for LLMs starting with `local/`. (Default: `http://localhost:5000/v1`) |
| LOCAL_API_KEY | API key for your local API server with LLMs starting with `local/`. Usually safe to leave blank. |
| OOBABOOGA_CHARACTER | Choose your [oobabooga character](https://github.com/oobabooga/text-generation-webui/wiki/03-%E2%80%90-Parameters-Tab#character), applicable only when using oobabooga. Leave blank to use `CUSTOM_SYSTEM_PROMPT` instead. | 
| OPENAI_API_KEY | Required for OpenAI API models. Generate an API key at [platform.openai.com/account/api-keys](https://platform.openai.com/account/api-keys). Additionally, add a payment method to your OpenAI account at [platform.openai.com/account/billing/payment-methods](https://platform.openai.com/account/billing/payment-methods). |
| MISTRAL_API_KEY | Required for Mistral API models. Generate an API key at [console.mistral.ai/user/api-keys](https://console.mistral.ai/user/api-keys). Additionally, add a payment method to your Mistral account at [console.mistral.ai/billing](https://console.mistral.ai/billing). |

### Step 4: Invite the bot to your Discord server using this URL (replace `CLIENT_ID` with your Discord application's client ID from the OAuth2 tab)

```
https://discord.com/api/oauth2/authorize?client_id=<CLIENT_ID>&permissions=412317273088&scope=bot
```

### STep 5: Run the bot

```sh
python llmcord.py
```